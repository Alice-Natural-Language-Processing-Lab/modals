/*! Modals v9.1.1 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/modals */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.modals=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,o,l,n={},r="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),c="closed",d={selectorToggle:"[data-modal]",selectorWindow:"[data-modal-window]",selectorClose:"[data-modal-close]",modalActiveClass:"active",modalBGClass:"modal-bg",preventBGScroll:!1,preventBGScrollHtml:!0,preventBGScrollBody:!0,backspaceClose:!0,stopVideo:!0,callbackOpen:function(){},callbackClose:function(){}},a=function(e,t,o){if("[object Object]"===Object.prototype.toString.call(e))for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.call(o,e[l],l,e);else for(var n=0,r=e.length;r>n;n++)t.call(o,e[n],n,e)},s=function(){var e={},t=!1,o=0,l=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var n=function(o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t&&"[object Object]"===Object.prototype.toString.call(o[l])?e[l]=s(!0,e[l],o[l]):e[l]=o[l])};l>o;o++){var r=arguments[o];n(r)}return e},i=function(e,t){var o,l,n=t.charAt(0);for("["===n&&(t=t.substr(1,t.length-2),o=t.split("="),o.length>1&&(l=!0,o[1]=o[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===n&&e.classList.contains(t.substr(1)))return e;if("#"===n&&e.id===t.substr(1))return e;if("["===n&&e.hasAttribute(o[0])){if(!l)return e;if(e.getAttribute(o[0])===o[1])return e}if(e.tagName.toLowerCase()===t)return e}return null},u=function(e,t){if(t.stopVideo&&e.classList.contains(t.modalActiveClass)){var o=e.querySelector("iframe"),l=e.querySelector("video");if(o){var n=o.src;o.src=n}l&&l.pause()}},m=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var l=o.offsetWidth;return e.parentNode.removeChild(e),t-l};n.openModal=function(e,l,n){var r=s(r||d,n||{}),a=document.querySelector(l);e&&(o=e);var i=document.createElement("div");i.setAttribute("data-modal-bg",!0),i.classList.add(r.modalBGClass),a.classList.add(r.modalActiveClass),document.body.appendChild(i),c="open",a.setAttribute("tabindex","-1"),a.focus(),r.preventBGScroll&&(r.preventBGScrollHtml&&(document.documentElement.style.overflowY="hidden"),r.preventBGScrollBody&&(document.body.style.overflowY="hidden"),document.body.style.paddingRight=t+"px"),r.callbackOpen(e,a)},n.closeModal=function(e){var t=s(l||d,e||{}),n=document.querySelector(t.selectorWindow+"."+t.modalActiveClass),r=document.querySelectorAll("[data-modal-bg]");n&&r&&(u(n,t),n.classList.remove(t.modalActiveClass),a(r,function(e){document.body.removeChild(e)}),c="closed",t.preventBGScroll&&(document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight=""),t.callbackClose(o,n),o&&(o.focus(),o=null))};var v=function(e){var t=e.target,o=i(t,l.selectorToggle),r=i(t,l.selectorClose),d=i(t,l.selectorWindow),a=e.keyCode;if(a&&"open"===c)(27===a||l.backspaceClose&&(8===a||46===a))&&n.closeModal();else if(t){if(d&&!r)return;!o||a&&13!==a?"open"===c&&(e.preventDefault(),n.closeModal()):(e.preventDefault(),n.openModal(o,o.getAttribute("data-modal"),l))}};return n.destroy=function(){l&&(document.removeEventListener("click",v,!1),document.removeEventListener("touchstart",v,!1),document.removeEventListener("keydown",v,!1),document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight="",t=null,o=null,l=null)},n.init=function(e){r&&(n.destroy(),l=s(d,e||{}),t=m(),document.addEventListener("click",v,!1),document.addEventListener("touchstart",v,!1),document.addEventListener("keydown",v,!1))},n});