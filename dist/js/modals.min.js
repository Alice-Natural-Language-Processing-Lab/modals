/** Modals v8.0.0, by Chris Ferdinandi | http://github.com/cferdinandi/modals | Licensed under MIT: http://gomakethings.com/mit/ */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.modals=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,o={},n=!!document.querySelector&&!!e.addEventListener,a="closed",l={modalActiveClass:"active",modalBGClass:"modal-bg",backspaceClose:!0,callbackOpen:function(){},callbackClose:function(){}},r=function(e,t,o){if("[object Object]"===Object.prototype.toString.call(e))for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(o,e[n],n,e);else for(var a=0,l=e.length;l>a;a++)t.call(o,e[a],a,e)},c=function(){var e={},t=!1,o=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var a=function(o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=t&&"[object Object]"===Object.prototype.toString.call(o[n])?c(!0,e[n],o[n]):o[n])};n>o;o++){var l=arguments[o];a(l)}return e},s=function(e,t){var o,n,a=t.charAt(0),l="classList"in document.documentElement;for("["===a&&(t=t.substr(1,t.length-2),o=t.split("="),o.length>1&&(n=!0,o[1]=o[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===a)if(l){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp("(^|\\s)"+t.substr(1)+"(\\s|$)").test(e.className))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.hasAttribute(o[0])){if(!n)return e;if(e.getAttribute(o[0])===o[1])return e}if(e.tagName.toLowerCase()===t)return e}return null},i=function(e,t){if(!e.classList.contains(t)){var o=e.querySelector("iframe"),n=e.querySelector("video");if(o){var a=o.src;o.src=a}n&&n.pause()}};o.openModal=function(e,t,o){var n=c(n||l,o||{}),r=document.querySelector(t),s=document.createElement("div");s.setAttribute("data-modal-bg",null),s.classList.add(n.modalBGClass),r.classList.add(n.modalActiveClass),document.body.appendChild(s),a="open",n.callbackOpen(e,t)},o.closeModals=function(e,t){var o=c(l,t||{}),n=document.querySelectorAll("[data-modal-window]."+o.modalActiveClass),s=document.querySelectorAll("[data-modal-bg]");(n.length>0||s.length>0)&&(r(n,function(e){e.classList.contains(o.modalActiveClass)&&(i(e),e.classList.remove(o.modalActiveClass))}),r(s,function(e){document.body.removeChild(e)}),a="closed",o.callbackClose())};var d=function(e){var n=e.target,l=s(n,"[data-modal]"),r=s(n,"[data-modal-close]"),c=s(n,"[data-modal-window]"),i=e.keyCode;if(i&&"open"===a)(27===i||t.backspaceClose&&(8===i||46===i))&&o.closeModals(null,t);else if(n){if(c&&!r)return;l?(e.preventDefault(),o.openModal(l,l.getAttribute("data-modal"),t)):"open"===a&&(e.preventDefault(),o.closeModals(n,t))}};return o.destroy=function(){t&&(document.removeEventListener("click",d,!1),document.removeEventListener("touchstart",d,!1),document.removeEventListener("keydown",d,!1),t=null)},o.init=function(e){n&&(o.destroy(),t=c(l,e||{}),document.addEventListener("click",d,!1),document.addEventListener("touchstart",d,!1),document.addEventListener("keydown",d,!1))},o});