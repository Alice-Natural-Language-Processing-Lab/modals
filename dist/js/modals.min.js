/*! Modals v8.2.0 | (c) 2015 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/modals */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.modals=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,o,l={},n="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),r="closed",c={selectorToggle:"[data-modal]",selectorWindow:"[data-modal-window]",selectorClose:"[data-modal-close]",modalActiveClass:"active",modalBGClass:"modal-bg",preventBGScroll:!1,preventBGScrollHtml:!0,preventBGScrollBody:!0,backspaceClose:!0,callbackOpen:function(){},callbackClose:function(){}},a=function(e,t,o){if("[object Object]"===Object.prototype.toString.call(e))for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.call(o,e[l],l,e);else for(var n=0,r=e.length;r>n;n++)t.call(o,e[n],n,e)},d=function(){var e={},t=!1,o=0,l=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var n=function(o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t&&"[object Object]"===Object.prototype.toString.call(o[l])?e[l]=d(!0,e[l],o[l]):e[l]=o[l])};l>o;o++){var r=arguments[o];n(r)}return e},s=function(e,t){var o,l,n=t.charAt(0);for("["===n&&(t=t.substr(1,t.length-2),o=t.split("="),o.length>1&&(l=!0,o[1]=o[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===n&&e.classList.contains(t.substr(1)))return e;if("#"===n&&e.id===t.substr(1))return e;if("["===n&&e.hasAttribute(o[0])){if(!l)return e;if(e.getAttribute(o[0])===o[1])return e}if(e.tagName.toLowerCase()===t)return e}return null},i=function(e,t){if(!e.classList.contains(t)){var o=e.querySelector("iframe"),l=e.querySelector("video");if(o){var n=o.src;o.src=n}l&&l.pause()}},u=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var l=o.offsetWidth;return e.parentNode.removeChild(e),t-l};l.openModal=function(e,o,l){var n=d(n||c,l||{}),a=document.querySelector(o),s=document.createElement("div");s.setAttribute("data-modal-bg",null),s.classList.add(n.modalBGClass),a.classList.add(n.modalActiveClass),document.body.appendChild(s),r="open",n.preventBGScroll&&(n.preventBGScrollHtml&&(document.documentElement.style.overflowY="hidden"),n.preventBGScrollBody&&(document.body.style.overflowY="hidden"),document.body.style.paddingRight=t+"px"),n.callbackOpen(e,o)},l.closeModals=function(e,t){var o=d(c,t||{}),l=document.querySelectorAll(o.selectorWindow+"."+o.modalActiveClass),n=document.querySelectorAll("[data-modal-bg]");(l.length>0||n.length>0)&&(a(l,function(e){e.classList.contains(o.modalActiveClass)&&(i(e),e.classList.remove(o.modalActiveClass))}),a(n,function(e){document.body.removeChild(e)}),r="closed",o.preventBGScroll&&(document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight=""),o.callbackClose())};var m=function(e){var t=e.target,n=s(t,o.selectorToggle),c=s(t,o.selectorClose),a=s(t,o.selectorWindow),d=e.keyCode;if(d&&"open"===r)(27===d||o.backspaceClose&&(8===d||46===d))&&l.closeModals(null,o);else if(t){if(a&&!c)return;n?(e.preventDefault(),l.openModal(n,n.getAttribute("data-modal"),o)):"open"===r&&(e.preventDefault(),l.closeModals(t,o))}};return l.destroy=function(){o&&(document.removeEventListener("click",m,!1),document.removeEventListener("touchstart",m,!1),document.removeEventListener("keydown",m,!1),document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight="",t=null,o=null)},l.init=function(e){n&&(l.destroy(),o=d(c,e||{}),t=u(),document.addEventListener("click",m,!1),document.addEventListener("touchstart",m,!1),document.addEventListener("keydown",m,!1))},l});