/*! Modals v10.0.0 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/modals */
!(function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.modals=t(e)})("undefined"!=typeof global?global:this.window||this.global,(function(e){"use strict";var t,o,l,n={},r="querySelector"in document&&"addEventListener"in e&&"classList"in document.createElement("_"),d="closed",c={selectorToggle:"[data-modal]",selectorWindow:"[data-modal-window]",selectorClose:"[data-modal-close]",modalActiveClass:"active",modalBGClass:"modal-bg",preventBGScroll:!0,preventBGScrollHtml:!0,preventBGScrollBody:!0,backspaceClose:!0,stopVideo:!0,callbackOpen:function(){},callbackClose:function(){}},a=function(){var e={},t=!1,o=0,l=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var n=function(o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t&&"[object Object]"===Object.prototype.toString.call(o[l])?e[l]=a(!0,e[l],o[l]):e[l]=o[l])};o<l;o++){var r=arguments[o];n(r)}return e},s=function(e,t){var o,l,n=t.charAt(0);for("["===n&&(t=t.substr(1,t.length-2),o=t.split("="),o.length>1&&(l=!0,o[1]=o[1].replace(/"/g,"").replace(/'/g,"")));e&&e!==document;e=e.parentNode){if("."===n&&e.classList.contains(t.substr(1)))return e;if("#"===n&&e.id===t.substr(1))return e;if("["===n&&e.hasAttribute(o[0])){if(!l)return e;if(e.getAttribute(o[0])===o[1])return e}if(e.tagName.toLowerCase()===t)return e}return null},i=function(e,t){if(t.stopVideo&&e.classList.contains(t.modalActiveClass)){var o=e.querySelector("iframe"),l=e.querySelector("video");if(o){var n=o.src;o.src=n}l&&l.pause()}},u=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var o=document.createElement("div");o.style.width="100%",e.appendChild(o);var l=o.offsetWidth;return e.parentNode.removeChild(e),t-l},m=function(){if(!document.querySelector("[data-modal-bg]")){var e=document.createElement("div");e.setAttribute("data-modal-bg",!0),e.classList.add(l.modalBGClass),document.body.appendChild(e)}},v=function(){var e=document.querySelector("[data-modal-bg]");e&&document.body.removeChild(e)};n.closeModal=function(e){var t=a(l||c,e||{}),n=document.querySelector(t.selectorWindow+"."+t.modalActiveClass);n&&(i(n,t),n.classList.remove(t.modalActiveClass),v(),d="closed",t.preventBGScroll&&(document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight=""),t.callbackClose(o,n),o&&(o.focus(),o=null))},n.openModal=function(e,r,s){var i=a(l||c,s||{}),u=document.querySelector(r);"open"===d&&n.closeModal(i),e&&(o=e),u.classList.add(i.modalActiveClass),m(),d="open",u.setAttribute("tabindex","-1"),u.focus(),i.preventBGScroll&&(i.preventBGScrollHtml&&(document.documentElement.style.overflowY="hidden"),i.preventBGScrollBody&&(document.body.style.overflowY="hidden"),document.body.style.paddingRight=t+"px"),i.callbackOpen(e,u)};var f=function(e){var t=e.target,o=s(t,l.selectorToggle),r=s(t,l.selectorClose),c=s(t,l.selectorWindow),a=e.keyCode;if(a&&"open"===d)(27===a||l.backspaceClose&&(8===a||46===a))&&n.closeModal();else if(t){if(c&&!r)return;!o||a&&13!==a?"open"===d&&(e.preventDefault(),n.closeModal()):(e.preventDefault(),n.openModal(o,o.getAttribute("data-modal"),l))}};return n.destroy=function(){l&&(document.removeEventListener("click",f,!1),document.removeEventListener("touchstart",f,!1),document.removeEventListener("keydown",f,!1),document.documentElement.style.overflowY="",document.body.style.overflowY="",document.body.style.paddingRight="",t=null,o=null,l=null)},n.init=function(e){r&&(n.destroy(),l=a(c,e||{}),t=u(),document.addEventListener("click",f,!1),document.addEventListener("touchstart",f,!1),document.addEventListener("keydown",f,!1))},n}));