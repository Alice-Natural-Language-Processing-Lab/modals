/** Modals v7.0.0, by Chris Ferdinandi | http://github.com/cferdinandi/modals | Licensed under MIT: http://gomakethings.com/mit/ */
!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.modals=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,o={},a=!!document.querySelector&&!!e.addEventListener,n="closed",l={modalActiveClass:"active",modalBGClass:"modal-bg",backspaceClose:!0,callbackOpen:function(){},callbackClose:function(){}},d=function(e,t){if(!e.classList.contains(t)){var o=e.querySelector("iframe"),a=e.querySelector("video");if(o){var n=o.src;o.src=n}a&&a.pause()}};o.openModal=function(e,t,o){var a=buoy.extend(a||l,o||{}),d=document.querySelector(t),c=document.createElement("div");c.setAttribute("data-modal-bg",null),c.classList.add(a.modalBGClass),d.classList.add(a.modalActiveClass),document.body.appendChild(c),n="open",a.callbackOpen(e,t)},o.closeModals=function(e,t){var o=buoy.extend(l,t||{}),a=document.querySelectorAll("[data-modal-window]."+o.modalActiveClass),c=document.querySelectorAll("[data-modal-bg]");(a.length>0||c.length>0)&&(buoy.forEach(a,function(e){e.classList.contains(o.modalActiveClass)&&(d(e),e.classList.remove(o.modalActiveClass))}),buoy.forEach(c,function(e){document.body.removeChild(e)}),n="closed",o.callbackClose())};var c=function(e){var a=e.target,l=buoy.getClosest(a,"[data-modal]"),d=buoy.getClosest(a,"[data-modal-close]"),c=buoy.getClosest(a,"[data-modal-window]"),s=e.keyCode;if(s&&"open"===n)(27===s||t.backspaceClose&&(8===s||46===s))&&o.closeModals(null,t);else if(a){if(c&&!d)return;l?(e.preventDefault(),o.openModal(l,l.getAttribute("data-modal"),t)):"open"===n&&(e.preventDefault(),o.closeModals(a,t))}};return o.destroy=function(){t&&(document.removeEventListener("click",c,!1),document.removeEventListener("touchstart",c,!1),document.removeEventListener("keydown",c,!1),t=null)},o.init=function(e){a&&(o.destroy(),t=buoy.extend(l,e||{}),document.addEventListener("click",c,!1),document.addEventListener("touchstart",c,!1),document.addEventListener("keydown",c,!1))},o});